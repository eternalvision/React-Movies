(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{52:function(e,t,r){"use strict";var n=r(56),a=r.n(n),c=r(57),s=r(58),o=r.n(s),u="62e550dd1865c74989dd777e4514ffe1";o.a.defaults.baseURL="https://api.themoviedb.org/3";var i={fetchTrendMovies:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("trending/movie/day?api_key=".concat(u)).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchMovieDetails:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("movie/".concat(t,"?api_key=").concat(u,"&language=en-US")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchMovies:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("search/movie?api_key=".concat(u,"&language=en-US&query=").concat(t,"&page=1&include_adult=false")).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchCast:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("movie/".concat(t,"/credits?api_key=").concat(u,"&language=en-US")).then((function(e){return e.data.cast}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchReviews:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t,"/reviews?api_key=").concat(u,"&language=en-US&page=1")).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=i},55:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return c}))},86:function(e,t,r){e.exports={SearchBar:"SearchBar_SearchBar__3ROT9",SearchForm:"SearchBar_SearchForm__EPw4F",SearchFormButton:"SearchBar_SearchFormButton__QlCLF",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__35xag",SearchFormInput:"SearchBar_SearchFormInput__1NfUg"}},89:function(e,t,r){"use strict";r.r(t);var n=r(55),a=r(50),c=r(51),s=r(54),o=r(53),u=r(0),i=r(86),h=r.n(i),p=r(1),l=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.state.query;return Object(p.jsx)("header",{className:h.a.SearchBar,children:Object(p.jsxs)("form",{className:h.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(p.jsx)("span",{className:h.a.SearchFormLabel})}),Object(p.jsx)("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleChange})]})})}}]),r}(u.Component),f=r(52),b=r(10),m=r(3),j=(r(11),function(e){var t=e.poster_path,r=e.title;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t),alt:r,width:"250"}),Object(p.jsx)("p",{className:"title",children:r})]})}),d=Object(m.f)((function(e){var t=e.movies,r=e.location;return Object(p.jsx)("ul",{className:"list",children:t.map((function(e){var t=e.id,n=e.title,a=e.poster_path;return Object(p.jsx)("li",{className:"item",children:Object(p.jsx)(b.b,{to:{pathname:"/movies/".concat(t),state:{from:r}},children:Object(p.jsx)(j,{poster_path:a,title:n})})},t)}))})})),v=r(16),O=r.n(v),g=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],error:null},e.handleChangeQuery=function(t){f.a.fetchMovies(t).then((function(t){return e.setState({movies:t})})).catch((function(t){return e.setState(t)}))},e}return Object(c.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.handleChangeQuery()}},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.error,a=e.isLoading;return Object(p.jsxs)(p.Fragment,{children:[r&&Object(p.jsx)("h3",{className:"ErrorMessage",children:r.message}),Object(p.jsx)(l,{onSubmit:this.handleChangeQuery}),a&&Object(p.jsx)("div",{className:"Loader",children:Object(p.jsx)(O.a,{type:"Rings",color:"#000",height:200,width:200})}),t.length>0&&Object(p.jsx)(d,Object(n.a)(Object(n.a)({},this.props),{},{movies:t}))]})}}]),r}(u.Component);t.default=g}}]);
//# sourceMappingURL=4.2752d582.chunk.js.map